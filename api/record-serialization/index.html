<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Record Serialization - JSTP</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Record Serialization";
    var mkdocs_page_input_path = "api/record-serialization.md";
    var mkdocs_page_url = "/api/record-serialization/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> JSTP</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../data-formats/">Formats</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../protocol/">Protocol</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>API</span></li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Record Serialization</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#record-serialization">Record Serialization</a></li>
                
                    <li><a class="toctree-l4" href="#jstpstringifyvalue">jstp.stringify(value)</a></li>
                
                    <li><a class="toctree-l4" href="#jstpparsestring">jstp.parse(string)</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../object-serialization/">Object Serialization</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../errors/">Errors</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../auth-provider/">Authentication Provider</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../apps-provider/">Application Provider</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remote-proxy/">Remote Proxy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../connection/">Connection</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../server/">Server</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../client/">Client</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../transport.tcp/">TCP Transport</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../transport.ws/">WebSocket Transport (Node.js)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../transport.ws.browser/">WebSocket Transport (Browser)</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">JSTP</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>API &raquo;</li>
        
      
    
    <li>Record Serialization</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/metarhia/JSTP/edit/master/doc/api/record-serialization.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="record-serialization">Record Serialization</h1>
<p>This module provides parser and serializer for the <a href="../../data-formats/#record-serialization">JSTP Record Serialization
format</a> which is very similar to
<a href="http://json5.org">JSON5</a>.</p>
<p>In order to speed up the parser, a native addon will be used for the supported
platforms.  The platforms that will use a pure JavaScript implementation istead
include web browsers, Windows, and Node.js older than version 4.0.  There's
also an experimental version of native JSRS serializer included, however it
isn't currently faster than the JavaScript one. If you want to try it for some
reason, change <code>USE_NATIVE_SERIALIZER</code> in <code>lib/record-serialization.js</code> to
true.</p>
<h2 id="jstpstringifyvalue">jstp.stringify(value)</h2>
<ul>
<li><code>value</code> {any} any JavaScript value.</li>
<li>Return: {String} JSRS representation of this value.</li>
</ul>
<p>This function serializes a JavaScript value using the JSTP Record Serialization
format and returns a string representing it.</p>
<p>Example:</p>
<pre><code class="javascript">const jstp = require('metarhia-jstp');

const event = {
  type: 'notification',
  text: 'Hello!'
};

const serializedEvent = jstp.stringify(event);
// '{type:\'notification\',text:\'Hello!\'}'
</code></pre>

<h2 id="jstpparsestring">jstp.parse(string)</h2>
<ul>
<li>string {String} a string to parse.</li>
<li>Return: {any} parsed value.</li>
</ul>
<p>This function deserializes a string in the JSTP Record Serialization format into
a JavaScript value and returns it.</p>
<p>Example:</p>
<pre><code class="javascript">const jstp = require('metarhia-jstp');

const data = '{type:\'notification\',text:\'Hello!\'}';
const object = jstp.parse(data);
// {
//   type: 'notification',
//   text: 'Hello!'
// }
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../object-serialization/" class="btn btn-neutral float-right" title="Object Serialization">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../protocol/" class="btn btn-neutral" title="Protocol"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/metarhia/JSTP/" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../../protocol/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../object-serialization/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../js/theme.js"></script>

</body>
</html>
